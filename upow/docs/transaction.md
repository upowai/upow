# transaction

Components:

- version, 1 byte
- inputs count, 1 byte
- inputs, 34 bytes per input
- outputs count, 1 byte
- outputs
- specifier, 1 byte
- eventual message length, 1 byte
- eventual message (max 255 bytes)
- signatures, 64 bytes per signature
- signatures, 64 bytes per signature

## version

- 1: 64 bytes addresses as outputs
- 2: 33 bytes addresses as outputs

A transaction cannot contain both 64 and 33 bytes addresses in outputs. 33 bytes address is preferred.

## inputs

Transaction Input contains:

- tx_hash, 32 bytes: hash of the transaction which output is being spent
- index, 1 byte: index of the output in the transaction
- input_type, 1 byte: Type of inputs are Regular and Fees

## input_type

- 0: REGULAR
- 10: FEES

## outputs

Transaction Output contains:

- address, 33 or 64 bytes. 33 bytes address is preferred
- amount length, 1 byte
- amount (max 255 bytes)
- output_type, 1 byte

## output_type

- 0: REGULAR
- 1: STAKE
- 2: UN_STAKE
- 3: INODE_REGISTRATION
- 5: VALIDATOR_REGISTRATION
- 6: VOTE_AS_VALIDATOR
- 7: VOTE_AS_DELEGATE
- 8: VALIDATOR_VOTING_POWER
- 9: DELEGATE_VOTING_POWER

## specifier

Accepted values (1 byte):

- 36: coinbase transaction
- 1: transaction with message
- 0: transaction with no message

## message

Message can contain transaction_type.

## transaction_type

- 0: REGULAR
- 4: INODE_DE_REGISTRATION
- 5: VALIDATOR_REGISTRATION
- 6: VOTE_AS_VALIDATOR
- 7: VOTE_AS_DELEGATE
- 8: REVOKE_AS_VALIDATOR
- 9: REVOKE_AS_DELEGATE

## signature

Non-Coinbase Transactions must contain a signature.  
In uPow signature is linked to input address.  
If you're spending 10 outputs from the same address, there will be only one signature. This makes transactions much lightweight.  
A signature is generated by signing the transaction hex until specifier (in raw bytes) with the private key of the related address.  
Signatures are then linked to inputs in an optimized way, querying the database only if strictly needed:

- there's only one signature: each input is linked to this signature

# transaction

Components:

- version, 1 byte
- inputs count, 1 byte
- inputs, 34 bytes per input
- outputs count, 1 byte
- outputs
- specifier, 1 byte
- eventual message length, 1 byte
- eventual message (max 255 bytes)
- signatures, 64 bytes per signature
- signatures, 64 bytes per signature

## version

- 1: 64 bytes addresses as outputs
- 2: 33 bytes addresses as outputs

A transaction cannot contain both 64 and 33 bytes addresses in outputs. 33 bytes address is preferred.

## inputs

Transaction Input contains:

- tx_hash, 32 bytes: hash of the transaction which output is being spent
- index, 1 byte: index of the output in the transaction
- input_type, 1 byte: Type of inputs are Regular and Fees

## input_type

- 0: REGULAR
- 10: FEES

## outputs

Transaction Output contains:

- address, 33 or 64 bytes. 33 bytes address is preferred
- amount length, 1 byte
- amount (max 255 bytes)
- output_type, 1 byte

## output_type

- 0: REGULAR
- 1: STAKE
- 2: UN_STAKE
- 3: INODE_REGISTRATION
- 5: VALIDATOR_REGISTRATION
- 6: VOTE_AS_VALIDATOR
- 7: VOTE_AS_DELEGATE
- 8: VALIDATOR_VOTING_POWER
- 9: DELEGATE_VOTING_POWER

## specifier

Accepted values (1 byte):

- 36: coinbase transaction
- 1: transaction with message
- 0: transaction with no message

## message

Message can contain transaction_type.

## transaction_type

- 0: REGULAR
- 4: INODE_DE_REGISTRATION
- 5: VALIDATOR_REGISTRATION
- 6: VOTE_AS_VALIDATOR
- 7: VOTE_AS_DELEGATE
- 8: REVOKE_AS_VALIDATOR
- 9: REVOKE_AS_DELEGATE

## signature

Non-Coinbase Transactions must contain a signature.  
In uPow signature is linked to input address.  
If you're spending 10 outputs from the same address, there will be only one signature. This makes transactions much lightweight.  
A signature is generated by signing the transaction hex until specifier (in raw bytes) with the private key of the related address.  
Signatures are then linked to inputs in an optimized way, querying the database only if strictly needed:

- there's only one signature: each input is linked to this signature

#### Example Transaction

```json
{
  "version": 3,
  "inputsCount": 2,
  "inputs": [
    {
      "tx_hash": "aa3a3aee2134d2dbec725b2a33f4a417b85f638ee7fa14589df1bb8a8a111111",
      "index": 0,
      "input_type": "REGULAR"
    },
    {
      "tx_hash": "bb4b4bff1235e3dcfd835c3b44g5b528c96g749ff8gb2569ef2cc9b9b9222222",
      "index": 1,
      "input_type": "REGULAR"
    }
  ],
  "outputsCount": 2,
  "outputs": [
    {
      "address": "Dvhg47J4J2ZgAujAZEJh4PihbWqbyR5BeUKJccNcs7QjC",
      "amount": 45.12345678,
      "output_type": "REGULAR"
    },
    {
      "address": "Dvhg47J4J2ZgAujAZEJh4PihbWqbyR5BeUKJccNcs7QjC",
      "amount": 55,
      "output_type": "STAKE"
    }
  ],
  "specifier": 1,
  "message_length": 1,
  "message": "0",
  "signatures": [
    {
      "signature": "3044022075adf158601efc6628670c03d9ea1e0e04447bbab9d2282d2db93bfa343bf4ac02204dd2f5b63400153faa0147ae578c4e7d080673cf5a4b846bb737b57b8a7e07cc"
    }
  ]
}
```
